{% extends "base.html" %}

{% block title %} Events {% endblock %}





{% block app_content %}

<table class="table table-hover table-striped table-bordered">
  <thead class="thead-dark">
  <tr align="center">
    <th scope="col">Event name</th>
    <th scope="col">Promoter name</th>
    <th scope="col">Date</th>
    <th scope="col">Event type</th>
    <th scope="col">Event manager</th>
    <th scope="col">Deposit amount</th>
    <th scope="col">Guest count</th>
    <th scope="col">Bar minimum</th>
    <th scope="col">Other notes</th>
    <th scope="col">Booked</th>
    <th scope="col">TSL approved</th>
    <th scope="col">Balance paid</th>
    <th scope="col">Contract sent?</th>
    <th scope="col">Cleaning</th>
    <th scope="col">Deposit paid</th>
    <th scope="col">Bar</th>
  </tr>
  </thead>

{% for event in events %}
<tr>
  <td class="col">{{ event.event_name }}</td>
  <td class="col">{{ event.promoter_name }}</td>
  <td class="col">{{ event.event_date }}</td>
  <td class="col">{{ event.event_type }}</td>
  <td class="col">{{ event.event_manager }}</td>
  <td class="col">{{ event.deposit_amount }}</td>
  <td class="col">{{ event.guest_count }}</td>
  <td class="col">{{ event.bar_min }}</td>
  <td class="col">{{ event.other_notes }}</td>

  <td class="col">{% if event.booked %}{{ event.booked|replace(event.booked, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.tsl_approved %}{{ event.tsl_approved|replace(event.tsl_approved, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.balance_paid %}{{ event.balance_paid|replace(event.balance_paid, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.contract_sent %}{{ event.contract_sent|replace(event.contract_sent, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.cleaning %}{{ event.cleaning|replace(event.cleaning, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.deposit_paid %}{{ event.deposit_paid|replace(event.deposit_paid, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td class="col">{% if event.bar %}{{ event.bar|replace(event.bar, "") }}<div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" checked disabled></td>
  {% else %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1" disabled>
  {% endif %}

  <td><a href="{{ url_for('event_details', id=event.id) }}">View Event</a></td>
  <!-- <td><a href="{{ url_for('delete_event', id=event.id) }}">Delete</a></td> -->




  <!-- Button trigger modal -->
  <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
    Delete<a href="{{ url_for('delete_event', id=event.id) }}">Delete</a>
  </button></td>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Delete event</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this event?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary">Delete</button>
        </div>
      </div>
    </div>
  </div>
{% endfor %}

{% endblock %}
